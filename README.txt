 问题定义 (Problem Definition)
 这个模型解决的是无人机路径规划问题 (Drone Routing Problem, DRP)。
 场景： 拥有一队同质的无人机。
 任务： 从一个中央仓库（Depot）出发，为一组客户提供配送服务。
 限制：每架无人机有最大载重限制。每架无人机有最大电池能量限制。每个客户必须被服务一次。
 目标： 最小化总运营成本，这通常被定义为启动成本与总能量消耗成本之和。
 模型包含以下关键约束：
 1、流平衡约束： 保证无人机到达一个客户后必须离开（除非返回仓库），且每个客户仅被访问一次。
 2、载重约束： 确保无人机在任何时候携带的货物重量不超过其最大载重 $Q$。这部分还使用了“消除子回路 (Subtour elimination)”的逻辑，确保路径是连通的。
 3、能量/续航约束：这是最难的部分，因为能耗取决于载重，而载重取决于访问顺序。模型必须计算整条路径的累积能耗，并确保其不超过电池容量。
    如果某条路径虽然距离短，但因为前半程载重过大导致电量耗尽，该模型会自动判定该路径不可行。

 
 核心：低空因素加载重与距离多重影响的能量模型这是该模型最独特的地方。
 传统的卡车调度模型通常假设油耗与距离成正比，但无人机不同：
 物理规律： 无人机的能耗不仅取决于飞行的距离，还强烈取决于当前的载重。
 动态变化： 当无人机送完一个包裹后，它的重量变轻了，因此在下一段路程中，每公里的能耗会下降。




 目前问题：
 1、没有考虑载重的动态变化：当无人机送完一个包裹后，它的重量变轻了，因此在下一段路程中，每公里的能耗会下降，从而载重与访问顺序之间是有影响的。
 2、流平衡约束不知道有没有实现，且是如何实现的。
    答：有实现。项目采用的是启发式/元启发式方法（RLTS-NSGA-II），而非数学规划求解器，因此流平衡约束是通过解的编码和构造方式隐式保证的。
 3、能耗模型生成与替换。（选用现有的创新模型，加上我的场景和数据集）


输入是风速风向温度湿度载重距离，输出是消耗多少电量。
 表格数据由**行（Rows）和列（Columns）**组成，每一行代表一个样本，每一列代表一个特征（属性）。
 树模型对表格数据有巨大优势。
 XGBoost
 LightGBM
 CatBoost（AI推荐使用）

 风向特征需特殊处理：
 问题： 359度和1度在数字上差了358，但在物理上只差2度。而且，纯粹的“自然风向”（比如北风）对无人机耗电没意义，有意义的是风向和无人机飞行方向的夹角（是顶风飞还是顺风飞）。

 必做的特征工程： 不要直接把“风向（0-360）”扔进模型。你应该计算出相对风向

 如果你的数据里有“飞行航向”，计算：相对夹角 = |飞行航向 - 风向|（起点指向终点和Wind Direct数据耦合）
 把处理后的这个特征喂给 CatBoost，你的预测准确率会提升一大截。


